<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.visit.program.ReservationProgram.domain.repository.EmployeeRepository">
    <select id = "findAll" resultType="com.visit.program.ReservationProgram.domain.dao.Employee">
        SELECT * FROM employee
    </select>

    <select id="findOne" resultType="com.visit.program.ReservationProgram.domain.dao.Employee">
        SELECT * FROM employee where id = #{id};
    </select>

    <select id="saveInfo">
        insert into employee(employee_id,name, department,email,gender) values(#{employee_id},#{name},#{department},#{email},#{gender});
    </select>

    <select id="deleteInfo">
        delete from employee where id = #{id};
    </select>

    <select id="updateInfo">
        update employee set name=#{name},department=#{department},email=#{email},gender=#{gender} where id = #{id};
    </select>


    <select id="findAllDTO" resultType="com.visit.program.ReservationProgram.domain.dao.Employee">
        SELECT * FROM employee
        <where>
            <if test="department!=null and department!=''">
                and department like concat('%',#{department},'%')
            </if>
            <if test="name!=null and name!=''">
                and name like concat('%',#{name},'%')
            </if>
        </where>
    </select>

</mapper>

